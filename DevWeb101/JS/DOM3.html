<h1>Sondage</h1>

<form id="form" onSubmit="event.preventDefault(); verif()">
  <label for="nom">Nom</label> <input type="text" name="nom" id="nom" /> <br/>

  <label for="mail">Mail</label> <input type="text" name="mail" id="mail" />
  <br/>

  <p>Avez vous des enfants ? <br/>
    <input type="radio" name="enfant" value="oui" id="enfant">
    <label for="enfant"> Oui</label>
     <input type="radio" name="enfant" value="non" id="pasenfant checked">
     <label for="pasenfant"> Non </label> </br>
    </p> 


  <label for="profession">Professions :</label>
  <select id="profession" name="profession" >
        <option value="none"> -- </option>
        <option value="agriculteur">Agriculteur exploitant </option>
        <option value="artisan"> Artisan </option>
        <option value="commercant"> Commercant et assimilé </option>
        <option value="chef"> Chef d'entreprise</option>
        <option value="liberal">Profession libérale et assimilé </option>
        <option value="cadre publique">Cadre de la fonction publique, profession intellectuelle et artistique</option>
        <option value="cadre">Cadre d'entreprise</option>
      <option value="intermédiaire">Profession intermédiaire de l'enseignement, de la
        santé, de la fonction publique et assimilé</option>
        <option> Technicien</option>
        <option value="contrmaitre">Contremaître, agent de maîtrise</option>
        <option value="employe publique">Employé de la foncion publique</option>
        <option value="employe prive">Employé administratif d'entreprise</option>
        <option value="employe commerce">Employé de commerce</option>
        <option value="ouvrier">Ouvrier</option>
        <option value="retrait"> Retraité</option>
        <option value="autre">autre </option>
      </select>

  <p>Activités sportives pratiquées (plusieurs réponses possibles):</p>
  <input type="checkbox" class="activites[]" id="gym" value="gym">
<label for="gym">Gymnastique</label>
  <input type="checkbox" class="activites[]" id="judo" value="judo">
<label for="judo">Judo</label>
  <input type="checkbox" class="activites[]" id="karate" value="karate">
<label for="karate">Karaté</label>
  <input type="checkbox" class="activites[]" id="natation" value="natation">
<label for="natation">Natation</label>
  <input type="checkbox" class="activites[]" id="ski" value="ski">
<label for="ski">Ski</label>
  <input type="checkbox" class="activites[]" id="autre" value="autre">
<label for="autre">Autre</label>


<p>
Indiquez vos plats préférés (plusieurs choix possibles): 
<br/>
<select id="plats" name="plats[]" multiple="multiple" size="5">
    <option value="Daube">Daube</option>
    <option value="Poisson">Poisson</option>
    <option value="Couscours">Couscou</option>
    <option value="Haggis">Haggis</option>
    <option value="Cassoulet">Cassoulet</option>
    <option value="Grenouillle">Cuisse de grenouilles</option>
    <option value="Quenelle">Quenelle de Veau </option>
    <option value="Paella">Paella</option>
   <option value="Tartiflette">Tartiflette</option>
   <option value="Carottes">Carottes rapéés</option>
    <option value="Bouillabaisse">Bouillabaisse</option>
</select>
</p>

<br/>
<input type="submit" value="Valider" />

</form>

<script>
  console.log("Working");
var verif = function(e){
  var form = document.getElementById("form");

  var nom = document.getElementById('nom').value;
  var m1 = document.createElement('strong');
  var deja= false;

  var enfant = form.enfant.value;

  var prof = document.getElementById('profession').value;

  var sports = document.getElementsByClassName('activites[]');
  var sport = "";

  var plats = document.getElementById("plats");

  if(nom == ""){
    console.log("Ajouter un nom !")
  }
  
  if(prof == "none" ) {
    console.log('Ajouter une profession');
  }
  
  for(var i=0; i< sports.length; i++) {
    if( sports[i].checked === true) {
      sport += sports[i].value + " ";
    }
  }

  for (var i = 0; i < plats.selectedOptions.length; i++) {
    console.log(plats.selectedOptions[i].value)
  }

  console.log(nom, enfant, sport);


  



}

</script>